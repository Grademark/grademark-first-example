const notebook = {
    "version": 2,
    "sheet": {
        "id": "1f799620-d370-11e8-b62a-7b63438e3c42",
        "language": "javascript",
        "cells": [
            {
                "id": "31e983b0-daf5-11e8-831f-d150615bd7aa",
                "cellType": "markdown",
                "code": "# Grademark first example\r\n\r\nThis notebook demonstrates [backtesting](https://en.wikipedia.org/wiki/Backtesting) a very simple [mean reversion trading strategy](https://en.wikipedia.org/wiki/Mean_reversion_(finance)). \r\n\r\nIt uses the [Grademark](https://github.com/grademark/grademark) for backtesting in JavaScript.\r\n\r\nFor a version of this code runnable on Node.js - please see the [Grademark first example repo](https://github.com/grademark/grademark-first-example).\r\n\r\n[Follow the developer on Twitter](https://twitter.com/ashleydavis75)",
                "lastEvaluationDate": "2018-11-16T15:53:20.087+10:00",
                "output": [],
                "errors": [],
                "height": 243
            },
            {
                "id": "1b3bb2a0-daf5-11e8-831f-d150615bd7aa",
                "cellType": "markdown",
                "code": "## Prepare the data\r\n\r\nFirst we need some code to load, parse and prep your data as needed. Then preview your data as a table to make sure it looks ok.\r\n\r\nThe data used in this example is three years of daily prices for STW from 2015 to end 2017. STW is an exchange traded fund for the ASX 200.",
                "lastEvaluationDate": "2018-11-16T15:53:20.087+10:00",
                "output": [],
                "errors": [],
                "height": 169
            },
            {
                "id": "a4a43760-d375-11e8-b62a-7b63438e3c42",
                "cellType": "code",
                "cellScope": "global",
                "code": "const dataForge = require('data-forge');\r\nrequire('data-forge-fs');\r\nrequire('data-forge-indicators');\r\n\r\nlet inputSeries = (await dataForge.readFile(\"STW.csv\").parseCSV())\r\n    .parseDates(\"date\", \"D/MM/YYYY\")\r\n    .parseFloats([\"open\", \"high\", \"low\", \"close\", \"volume\"])\r\n    .setIndex(\"date\") // Index so we can later merge on date.\r\n    .renameSeries({ date: \"time\" })\r\n    .bake();\r\n\r\ndisplay(inputSeries.head(5));",
                "lastEvaluationDate": "2020-10-10T11:54:10.952+10:00",
                "output": [
                    {
                        "value": {
                            "displayType": "table",
                            "data": {
                                "rows": [
                                    {
                                        "open": 50.03,
                                        "high": 50.4,
                                        "low": 50.03,
                                        "close": 50.4,
                                        "volume": 84844,
                                        "time": "2015-01-01T14:00:00.000Z"
                                    },
                                    {
                                        "open": 50.69,
                                        "high": 50.73,
                                        "low": 50.32,
                                        "close": 50.65,
                                        "volume": 42645,
                                        "time": "2015-01-04T14:00:00.000Z"
                                    },
                                    {
                                        "open": 50.18,
                                        "high": 50.18,
                                        "low": 49.46,
                                        "close": 49.77,
                                        "volume": 232437,
                                        "time": "2015-01-05T14:00:00.000Z"
                                    },
                                    {
                                        "open": 49.88,
                                        "high": 49.88,
                                        "low": 49.3,
                                        "close": 49.63,
                                        "volume": 58253,
                                        "time": "2015-01-06T14:00:00.000Z"
                                    },
                                    {
                                        "open": 49.9,
                                        "high": 50.05,
                                        "low": 49.74,
                                        "close": 49.77,
                                        "volume": 83496,
                                        "time": "2015-01-07T14:00:00.000Z"
                                    }
                                ],
                                "columnNames": [
                                    "time",
                                    "open",
                                    "high",
                                    "low",
                                    "close",
                                    "volume"
                                ]
                            }
                        }
                    }
                ],
                "errors": [],
                "height": 470
            },
            {
                "id": "10105a70-daf5-11e8-831f-d150615bd7aa",
                "cellType": "markdown",
                "code": "## Visualize the input data\r\n\r\nNow let's make a plot of the example data and see the shape of it.",
                "lastEvaluationDate": "2018-11-16T15:53:20.094+10:00",
                "output": [],
                "errors": [],
                "height": 102
            },
            {
                "id": "9d9a9c70-d375-11e8-b62a-7b63438e3c42",
                "cellType": "code",
                "cellScope": "global",
                "code": "display.plot(inputSeries.tail(100).toArray(), {}, { y: \"close\" });",
                "lastEvaluationDate": "2020-10-10T11:54:10.980+10:00",
                "output": [
                    {
                        "value": {
                            "displayType": "plot",
                            "data": {
                                "data": {
                                    "series": {
                                        "open": {
                                            "type": "number",
                                            "values": [
                                                54.06,
                                                53.65,
                                                53.67,
                                                54.05,
                                                54,
                                                54.61,
                                                53.72,
                                                54.02,
                                                53.95,
                                                54.51,
                                                53.95,
                                                54.15,
                                                54.14,
                                                53.62,
                                                53.67,
                                                53.74,
                                                54.08,
                                                54.01,
                                                53.99,
                                                53.71,
                                                54.03,
                                                53.99,
                                                53.98,
                                                54.44,
                                                54.82,
                                                54.47,
                                                54.25,
                                                54.2,
                                                54.37,
                                                54.1,
                                                54.15,
                                                53.87,
                                                54.19,
                                                54.08,
                                                53.98,
                                                53.25,
                                                53.02,
                                                53.33,
                                                53.65,
                                                53.26,
                                                52.87,
                                                53.27,
                                                53.41,
                                                53.44,
                                                53.65,
                                                53.89,
                                                54.15,
                                                54.56,
                                                54.74,
                                                54.99,
                                                55.14,
                                                54.85,
                                                55.32,
                                                55.07,
                                                55.27,
                                                55.12,
                                                55.4,
                                                55.4,
                                                55.29,
                                                55.38,
                                                55.7,
                                                55.6,
                                                55.77,
                                                55.92,
                                                56.06,
                                                56.44,
                                                56.43,
                                                56.57,
                                                56.22,
                                                55.88,
                                                55.68,
                                                56.19,
                                                55.73,
                                                56.07,
                                                56.32,
                                                56.24,
                                                56.17,
                                                56.15,
                                                56.16,
                                                56.57,
                                                56.19,
                                                56.33,
                                                56.34,
                                                55.94,
                                                55.89,
                                                55.96,
                                                56.3,
                                                56.52,
                                                56.47,
                                                56.6,
                                                56.74,
                                                56.43,
                                                56.65,
                                                56.95,
                                                56.9,
                                                56.92,
                                                57.06,
                                                57.17,
                                                57.11,
                                                56.81
                                            ]
                                        },
                                        "high": {
                                            "type": "number",
                                            "values": [
                                                54.32,
                                                53.65,
                                                53.78,
                                                54.19,
                                                54.4,
                                                54.61,
                                                54.09,
                                                54.04,
                                                54.17,
                                                54.58,
                                                54.23,
                                                54.2,
                                                54.14,
                                                53.62,
                                                53.67,
                                                53.96,
                                                54.2,
                                                54.01,
                                                54,
                                                53.9,
                                                54.17,
                                                53.99,
                                                54.27,
                                                54.66,
                                                54.82,
                                                54.53,
                                                54.28,
                                                54.38,
                                                54.48,
                                                54.22,
                                                54.15,
                                                53.98,
                                                54.2,
                                                54.13,
                                                53.98,
                                                53.36,
                                                53.15,
                                                53.75,
                                                53.65,
                                                53.26,
                                                52.95,
                                                53.33,
                                                53.82,
                                                53.72,
                                                53.99,
                                                54.12,
                                                54.4,
                                                54.71,
                                                55.1,
                                                55.2,
                                                55.23,
                                                55.37,
                                                55.36,
                                                55.2,
                                                55.32,
                                                55.27,
                                                55.5,
                                                55.42,
                                                55.45,
                                                55.62,
                                                55.74,
                                                55.78,
                                                55.77,
                                                56.24,
                                                56.32,
                                                56.67,
                                                56.54,
                                                56.65,
                                                56.23,
                                                55.96,
                                                55.94,
                                                56.2,
                                                55.95,
                                                56.1,
                                                56.39,
                                                56.29,
                                                56.23,
                                                56.45,
                                                56.45,
                                                56.69,
                                                56.26,
                                                56.46,
                                                56.45,
                                                56.26,
                                                56.04,
                                                56.28,
                                                56.5,
                                                56.55,
                                                56.57,
                                                56.67,
                                                56.84,
                                                56.48,
                                                56.79,
                                                57.17,
                                                57.19,
                                                56.97,
                                                57.16,
                                                57.25,
                                                57.11,
                                                56.81
                                            ]
                                        },
                                        "low": {
                                            "type": "number",
                                            "values": [
                                                53.83,
                                                53.21,
                                                53.5,
                                                53.96,
                                                53.87,
                                                54.21,
                                                53.69,
                                                53.59,
                                                53.95,
                                                53.89,
                                                53.82,
                                                53.94,
                                                53.73,
                                                53.23,
                                                53.38,
                                                53.67,
                                                53.85,
                                                53.75,
                                                53.54,
                                                53.57,
                                                53.8,
                                                53.64,
                                                53.98,
                                                54.38,
                                                54.49,
                                                54.36,
                                                53.95,
                                                54.2,
                                                54.21,
                                                53.9,
                                                53.5,
                                                53.71,
                                                53.93,
                                                53.83,
                                                53.6,
                                                52.91,
                                                52.8,
                                                53.28,
                                                53.16,
                                                52.77,
                                                52.79,
                                                53.08,
                                                53.41,
                                                53.44,
                                                53.58,
                                                53.86,
                                                54.12,
                                                54.55,
                                                54.74,
                                                54.99,
                                                54.98,
                                                54.85,
                                                55.06,
                                                55,
                                                55.1,
                                                54.99,
                                                54.76,
                                                55.22,
                                                55.22,
                                                55.38,
                                                55.39,
                                                55.53,
                                                55.6,
                                                55.92,
                                                56.06,
                                                56.38,
                                                56.38,
                                                56.5,
                                                55.95,
                                                55.74,
                                                55.6,
                                                55.95,
                                                55.65,
                                                55.89,
                                                56.19,
                                                56.13,
                                                55.93,
                                                56.15,
                                                56.16,
                                                56.48,
                                                55.92,
                                                56.2,
                                                56.2,
                                                55.9,
                                                55.79,
                                                55.91,
                                                56.24,
                                                56.3,
                                                56.39,
                                                56.41,
                                                56.53,
                                                56.28,
                                                56.57,
                                                56.95,
                                                56.9,
                                                56.88,
                                                57,
                                                57,
                                                56.57,
                                                56.42
                                            ]
                                        },
                                        "close": {
                                            "type": "number",
                                            "values": [
                                                53.95,
                                                53.4,
                                                53.73,
                                                53.99,
                                                54.4,
                                                54.33,
                                                54.07,
                                                53.82,
                                                54.15,
                                                54.02,
                                                54.09,
                                                54.14,
                                                53.82,
                                                53.45,
                                                53.54,
                                                53.93,
                                                54.06,
                                                53.88,
                                                53.88,
                                                53.8,
                                                53.81,
                                                53.76,
                                                54.18,
                                                54.48,
                                                54.5,
                                                54.4,
                                                54.05,
                                                54.29,
                                                54.21,
                                                54.15,
                                                53.69,
                                                53.95,
                                                53.97,
                                                53.85,
                                                53.78,
                                                52.98,
                                                53.06,
                                                53.6,
                                                53.23,
                                                52.79,
                                                52.8,
                                                53.33,
                                                53.64,
                                                53.58,
                                                53.94,
                                                54.11,
                                                54.33,
                                                54.63,
                                                55.01,
                                                55.1,
                                                55.04,
                                                55.18,
                                                55.07,
                                                55.12,
                                                55.17,
                                                55.27,
                                                55.15,
                                                55.31,
                                                55.23,
                                                55.46,
                                                55.46,
                                                55.72,
                                                55.63,
                                                56.23,
                                                56.25,
                                                56.63,
                                                56.44,
                                                56.62,
                                                56.09,
                                                55.74,
                                                55.84,
                                                55.97,
                                                55.86,
                                                56.06,
                                                56.3,
                                                56.25,
                                                56.23,
                                                56.31,
                                                56.24,
                                                56.5,
                                                56.11,
                                                56.31,
                                                56.26,
                                                56.09,
                                                55.87,
                                                56.25,
                                                56.33,
                                                56.38,
                                                56.52,
                                                56.58,
                                                56.53,
                                                56.35,
                                                56.76,
                                                57.06,
                                                57.1,
                                                56.89,
                                                57,
                                                57,
                                                56.79,
                                                56.57
                                            ]
                                        },
                                        "volume": {
                                            "type": "number",
                                            "values": [
                                                100586,
                                                206927,
                                                92538,
                                                171919,
                                                98064,
                                                55468,
                                                116179,
                                                161670,
                                                698261,
                                                85588,
                                                189374,
                                                92502,
                                                92787,
                                                111494,
                                                63560,
                                                33524,
                                                88373,
                                                48257,
                                                54425,
                                                51479,
                                                54210,
                                                40978,
                                                121492,
                                                50239,
                                                101023,
                                                31953,
                                                181486,
                                                92985,
                                                89168,
                                                98350,
                                                97335,
                                                60350,
                                                33898,
                                                79402,
                                                84591,
                                                222531,
                                                61870,
                                                61675,
                                                43539,
                                                151764,
                                                20993,
                                                131570,
                                                58591,
                                                701440,
                                                41330,
                                                90032,
                                                92674,
                                                62866,
                                                181283,
                                                66109,
                                                138271,
                                                213021,
                                                42863,
                                                35282,
                                                55123,
                                                69937,
                                                97473,
                                                31601,
                                                81692,
                                                101420,
                                                79999,
                                                59616,
                                                68785,
                                                67696,
                                                41631,
                                                78606,
                                                59056,
                                                110727,
                                                98522,
                                                103257,
                                                43752,
                                                47059,
                                                46987,
                                                49219,
                                                56837,
                                                50447,
                                                47310,
                                                59387,
                                                785248,
                                                165444,
                                                304441,
                                                55626,
                                                54864,
                                                66202,
                                                123299,
                                                47063,
                                                102838,
                                                44191,
                                                63047,
                                                114145,
                                                119652,
                                                70681,
                                                52818,
                                                62356,
                                                173303,
                                                422205,
                                                214591,
                                                92219,
                                                50671,
                                                432777
                                            ]
                                        },
                                        "time": {
                                            "type": "date",
                                            "values": [
                                                "2017-08-09T14:00:00.000Z",
                                                "2017-08-10T14:00:00.000Z",
                                                "2017-08-13T14:00:00.000Z",
                                                "2017-08-14T14:00:00.000Z",
                                                "2017-08-15T14:00:00.000Z",
                                                "2017-08-16T14:00:00.000Z",
                                                "2017-08-17T14:00:00.000Z",
                                                "2017-08-20T14:00:00.000Z",
                                                "2017-08-21T14:00:00.000Z",
                                                "2017-08-22T14:00:00.000Z",
                                                "2017-08-23T14:00:00.000Z",
                                                "2017-08-24T14:00:00.000Z",
                                                "2017-08-27T14:00:00.000Z",
                                                "2017-08-28T14:00:00.000Z",
                                                "2017-08-29T14:00:00.000Z",
                                                "2017-08-30T14:00:00.000Z",
                                                "2017-08-31T14:00:00.000Z",
                                                "2017-09-03T14:00:00.000Z",
                                                "2017-09-04T14:00:00.000Z",
                                                "2017-09-05T14:00:00.000Z",
                                                "2017-09-06T14:00:00.000Z",
                                                "2017-09-07T14:00:00.000Z",
                                                "2017-09-10T14:00:00.000Z",
                                                "2017-09-11T14:00:00.000Z",
                                                "2017-09-12T14:00:00.000Z",
                                                "2017-09-13T14:00:00.000Z",
                                                "2017-09-14T14:00:00.000Z",
                                                "2017-09-17T14:00:00.000Z",
                                                "2017-09-18T14:00:00.000Z",
                                                "2017-09-19T14:00:00.000Z",
                                                "2017-09-20T14:00:00.000Z",
                                                "2017-09-21T14:00:00.000Z",
                                                "2017-09-24T14:00:00.000Z",
                                                "2017-09-25T14:00:00.000Z",
                                                "2017-09-26T14:00:00.000Z",
                                                "2017-09-27T14:00:00.000Z",
                                                "2017-09-28T14:00:00.000Z",
                                                "2017-10-01T14:00:00.000Z",
                                                "2017-10-02T14:00:00.000Z",
                                                "2017-10-03T14:00:00.000Z",
                                                "2017-10-04T14:00:00.000Z",
                                                "2017-10-05T14:00:00.000Z",
                                                "2017-10-08T14:00:00.000Z",
                                                "2017-10-09T14:00:00.000Z",
                                                "2017-10-10T14:00:00.000Z",
                                                "2017-10-11T14:00:00.000Z",
                                                "2017-10-12T14:00:00.000Z",
                                                "2017-10-15T14:00:00.000Z",
                                                "2017-10-16T14:00:00.000Z",
                                                "2017-10-17T14:00:00.000Z",
                                                "2017-10-18T14:00:00.000Z",
                                                "2017-10-19T14:00:00.000Z",
                                                "2017-10-22T14:00:00.000Z",
                                                "2017-10-23T14:00:00.000Z",
                                                "2017-10-24T14:00:00.000Z",
                                                "2017-10-25T14:00:00.000Z",
                                                "2017-10-26T14:00:00.000Z",
                                                "2017-10-29T14:00:00.000Z",
                                                "2017-10-30T14:00:00.000Z",
                                                "2017-10-31T14:00:00.000Z",
                                                "2017-11-01T14:00:00.000Z",
                                                "2017-11-02T14:00:00.000Z",
                                                "2017-11-05T14:00:00.000Z",
                                                "2017-11-06T14:00:00.000Z",
                                                "2017-11-07T14:00:00.000Z",
                                                "2017-11-08T14:00:00.000Z",
                                                "2017-11-09T14:00:00.000Z",
                                                "2017-11-12T14:00:00.000Z",
                                                "2017-11-13T14:00:00.000Z",
                                                "2017-11-14T14:00:00.000Z",
                                                "2017-11-15T14:00:00.000Z",
                                                "2017-11-16T14:00:00.000Z",
                                                "2017-11-19T14:00:00.000Z",
                                                "2017-11-20T14:00:00.000Z",
                                                "2017-11-21T14:00:00.000Z",
                                                "2017-11-22T14:00:00.000Z",
                                                "2017-11-23T14:00:00.000Z",
                                                "2017-11-26T14:00:00.000Z",
                                                "2017-11-27T14:00:00.000Z",
                                                "2017-11-28T14:00:00.000Z",
                                                "2017-11-29T14:00:00.000Z",
                                                "2017-11-30T14:00:00.000Z",
                                                "2017-12-03T14:00:00.000Z",
                                                "2017-12-04T14:00:00.000Z",
                                                "2017-12-05T14:00:00.000Z",
                                                "2017-12-06T14:00:00.000Z",
                                                "2017-12-07T14:00:00.000Z",
                                                "2017-12-10T14:00:00.000Z",
                                                "2017-12-11T14:00:00.000Z",
                                                "2017-12-12T14:00:00.000Z",
                                                "2017-12-13T14:00:00.000Z",
                                                "2017-12-14T14:00:00.000Z",
                                                "2017-12-17T14:00:00.000Z",
                                                "2017-12-18T14:00:00.000Z",
                                                "2017-12-19T14:00:00.000Z",
                                                "2017-12-20T14:00:00.000Z",
                                                "2017-12-21T14:00:00.000Z",
                                                "2017-12-26T14:00:00.000Z",
                                                "2017-12-27T14:00:00.000Z",
                                                "2017-12-28T14:00:00.000Z"
                                            ]
                                        }
                                    }
                                },
                                "plotConfig": {
                                    "legend": {
                                        "show": true
                                    },
                                    "chartType": "line",
                                    "width": "95%",
                                    "height": "95%",
                                    "y": {
                                        "min": 52.79,
                                        "max": 57.1
                                    },
                                    "y2": {}
                                },
                                "axisMap": {
                                    "y": [
                                        {
                                            "series": "close"
                                        }
                                    ],
                                    "y2": []
                                }
                            }
                        }
                    }
                ],
                "errors": [],
                "height": 491
            },
            {
                "id": "c2ddeec0-daf4-11e8-831f-d150615bd7aa",
                "cellType": "markdown",
                "code": "## Compute indicators\r\n\r\nWe are going to need some indicators from which to make trading decisions!\r\n\r\nWe are testing a simple and naive mean reversion strategy. The first thing we need is a simple moving average of the STW closing proice. Let's compute that now...",
                "lastEvaluationDate": "2018-11-16T15:53:20.110+10:00",
                "output": [],
                "errors": [],
                "height": 150
            },
            {
                "id": "cffef090-d50e-11e8-9de5-774a0a7a5ea4",
                "cellType": "code",
                "cellScope": "global",
                "code": "const movingAverage = inputSeries\r\n    .deflate(bar => bar.close)  // Extract closing price series.\r\n    .sma(30)                    // 30 day moving average.\r\n    .bake();\r\n\r\ninputSeries = inputSeries\r\n    .skip(30)                           // Skip blank sma entries.\r\n    .withSeries(\"sma\", movingAverage)   // Integrate moving average into data, indexed on date.\r\n    .bake();\r\n\r\ndisplay(inputSeries.head(5));",
                "lastEvaluationDate": "2020-10-10T11:54:11.051+10:00",
                "output": [
                    {
                        "value": {
                            "displayType": "table",
                            "data": {
                                "rows": [
                                    {
                                        "open": 54.61,
                                        "high": 54.71,
                                        "low": 54.15,
                                        "close": 54.58,
                                        "volume": 109518,
                                        "time": "2015-02-15T14:00:00.000Z",
                                        "sma": 51.482333333333344
                                    },
                                    {
                                        "open": 54.37,
                                        "high": 54.64,
                                        "low": 54.27,
                                        "close": 54.41,
                                        "volume": 191610,
                                        "time": "2015-02-16T14:00:00.000Z",
                                        "sma": 51.60766666666668
                                    },
                                    {
                                        "open": 54.79,
                                        "high": 54.98,
                                        "low": 54.43,
                                        "close": 54.91,
                                        "volume": 153915,
                                        "time": "2015-02-17T14:00:00.000Z",
                                        "sma": 51.77900000000002
                                    },
                                    {
                                        "open": 55,
                                        "high": 55.31,
                                        "low": 54.75,
                                        "close": 54.93,
                                        "volume": 141390,
                                        "time": "2015-02-18T14:00:00.000Z",
                                        "sma": 51.95566666666668
                                    },
                                    {
                                        "open": 55.01,
                                        "high": 55.01,
                                        "low": 54.58,
                                        "close": 54.63,
                                        "volume": 44591,
                                        "time": "2015-02-19T14:00:00.000Z",
                                        "sma": 52.11766666666668
                                    }
                                ],
                                "columnNames": [
                                    "time",
                                    "open",
                                    "high",
                                    "low",
                                    "close",
                                    "volume",
                                    "sma"
                                ]
                            }
                        }
                    }
                ],
                "errors": [],
                "height": 441
            },
            {
                "id": "d25ee570-daf4-11e8-831f-d150615bd7aa",
                "cellType": "markdown",
                "code": "## Plot indicators\r\n\r\nNow we'll plot a preview of our indicator against the closing price to get an idea of what it looks like.",
                "lastEvaluationDate": "2018-11-16T15:53:20.115+10:00",
                "output": [],
                "errors": [],
                "height": 102
            },
            {
                "id": "ea402d70-daf4-11e8-831f-d150615bd7aa",
                "cellType": "code",
                "cellScope": "global",
                "code": "display.plot(inputSeries.tail(100).toArray(), {}, { y: [\"close\", \"sma\"] });",
                "lastEvaluationDate": "2020-10-10T11:54:11.074+10:00",
                "output": [
                    {
                        "value": {
                            "displayType": "plot",
                            "data": {
                                "data": {
                                    "series": {
                                        "open": {
                                            "type": "number",
                                            "values": [
                                                54.06,
                                                53.65,
                                                53.67,
                                                54.05,
                                                54,
                                                54.61,
                                                53.72,
                                                54.02,
                                                53.95,
                                                54.51,
                                                53.95,
                                                54.15,
                                                54.14,
                                                53.62,
                                                53.67,
                                                53.74,
                                                54.08,
                                                54.01,
                                                53.99,
                                                53.71,
                                                54.03,
                                                53.99,
                                                53.98,
                                                54.44,
                                                54.82,
                                                54.47,
                                                54.25,
                                                54.2,
                                                54.37,
                                                54.1,
                                                54.15,
                                                53.87,
                                                54.19,
                                                54.08,
                                                53.98,
                                                53.25,
                                                53.02,
                                                53.33,
                                                53.65,
                                                53.26,
                                                52.87,
                                                53.27,
                                                53.41,
                                                53.44,
                                                53.65,
                                                53.89,
                                                54.15,
                                                54.56,
                                                54.74,
                                                54.99,
                                                55.14,
                                                54.85,
                                                55.32,
                                                55.07,
                                                55.27,
                                                55.12,
                                                55.4,
                                                55.4,
                                                55.29,
                                                55.38,
                                                55.7,
                                                55.6,
                                                55.77,
                                                55.92,
                                                56.06,
                                                56.44,
                                                56.43,
                                                56.57,
                                                56.22,
                                                55.88,
                                                55.68,
                                                56.19,
                                                55.73,
                                                56.07,
                                                56.32,
                                                56.24,
                                                56.17,
                                                56.15,
                                                56.16,
                                                56.57,
                                                56.19,
                                                56.33,
                                                56.34,
                                                55.94,
                                                55.89,
                                                55.96,
                                                56.3,
                                                56.52,
                                                56.47,
                                                56.6,
                                                56.74,
                                                56.43,
                                                56.65,
                                                56.95,
                                                56.9,
                                                56.92,
                                                57.06,
                                                57.17,
                                                57.11,
                                                56.81
                                            ]
                                        },
                                        "high": {
                                            "type": "number",
                                            "values": [
                                                54.32,
                                                53.65,
                                                53.78,
                                                54.19,
                                                54.4,
                                                54.61,
                                                54.09,
                                                54.04,
                                                54.17,
                                                54.58,
                                                54.23,
                                                54.2,
                                                54.14,
                                                53.62,
                                                53.67,
                                                53.96,
                                                54.2,
                                                54.01,
                                                54,
                                                53.9,
                                                54.17,
                                                53.99,
                                                54.27,
                                                54.66,
                                                54.82,
                                                54.53,
                                                54.28,
                                                54.38,
                                                54.48,
                                                54.22,
                                                54.15,
                                                53.98,
                                                54.2,
                                                54.13,
                                                53.98,
                                                53.36,
                                                53.15,
                                                53.75,
                                                53.65,
                                                53.26,
                                                52.95,
                                                53.33,
                                                53.82,
                                                53.72,
                                                53.99,
                                                54.12,
                                                54.4,
                                                54.71,
                                                55.1,
                                                55.2,
                                                55.23,
                                                55.37,
                                                55.36,
                                                55.2,
                                                55.32,
                                                55.27,
                                                55.5,
                                                55.42,
                                                55.45,
                                                55.62,
                                                55.74,
                                                55.78,
                                                55.77,
                                                56.24,
                                                56.32,
                                                56.67,
                                                56.54,
                                                56.65,
                                                56.23,
                                                55.96,
                                                55.94,
                                                56.2,
                                                55.95,
                                                56.1,
                                                56.39,
                                                56.29,
                                                56.23,
                                                56.45,
                                                56.45,
                                                56.69,
                                                56.26,
                                                56.46,
                                                56.45,
                                                56.26,
                                                56.04,
                                                56.28,
                                                56.5,
                                                56.55,
                                                56.57,
                                                56.67,
                                                56.84,
                                                56.48,
                                                56.79,
                                                57.17,
                                                57.19,
                                                56.97,
                                                57.16,
                                                57.25,
                                                57.11,
                                                56.81
                                            ]
                                        },
                                        "low": {
                                            "type": "number",
                                            "values": [
                                                53.83,
                                                53.21,
                                                53.5,
                                                53.96,
                                                53.87,
                                                54.21,
                                                53.69,
                                                53.59,
                                                53.95,
                                                53.89,
                                                53.82,
                                                53.94,
                                                53.73,
                                                53.23,
                                                53.38,
                                                53.67,
                                                53.85,
                                                53.75,
                                                53.54,
                                                53.57,
                                                53.8,
                                                53.64,
                                                53.98,
                                                54.38,
                                                54.49,
                                                54.36,
                                                53.95,
                                                54.2,
                                                54.21,
                                                53.9,
                                                53.5,
                                                53.71,
                                                53.93,
                                                53.83,
                                                53.6,
                                                52.91,
                                                52.8,
                                                53.28,
                                                53.16,
                                                52.77,
                                                52.79,
                                                53.08,
                                                53.41,
                                                53.44,
                                                53.58,
                                                53.86,
                                                54.12,
                                                54.55,
                                                54.74,
                                                54.99,
                                                54.98,
                                                54.85,
                                                55.06,
                                                55,
                                                55.1,
                                                54.99,
                                                54.76,
                                                55.22,
                                                55.22,
                                                55.38,
                                                55.39,
                                                55.53,
                                                55.6,
                                                55.92,
                                                56.06,
                                                56.38,
                                                56.38,
                                                56.5,
                                                55.95,
                                                55.74,
                                                55.6,
                                                55.95,
                                                55.65,
                                                55.89,
                                                56.19,
                                                56.13,
                                                55.93,
                                                56.15,
                                                56.16,
                                                56.48,
                                                55.92,
                                                56.2,
                                                56.2,
                                                55.9,
                                                55.79,
                                                55.91,
                                                56.24,
                                                56.3,
                                                56.39,
                                                56.41,
                                                56.53,
                                                56.28,
                                                56.57,
                                                56.95,
                                                56.9,
                                                56.88,
                                                57,
                                                57,
                                                56.57,
                                                56.42
                                            ]
                                        },
                                        "close": {
                                            "type": "number",
                                            "values": [
                                                53.95,
                                                53.4,
                                                53.73,
                                                53.99,
                                                54.4,
                                                54.33,
                                                54.07,
                                                53.82,
                                                54.15,
                                                54.02,
                                                54.09,
                                                54.14,
                                                53.82,
                                                53.45,
                                                53.54,
                                                53.93,
                                                54.06,
                                                53.88,
                                                53.88,
                                                53.8,
                                                53.81,
                                                53.76,
                                                54.18,
                                                54.48,
                                                54.5,
                                                54.4,
                                                54.05,
                                                54.29,
                                                54.21,
                                                54.15,
                                                53.69,
                                                53.95,
                                                53.97,
                                                53.85,
                                                53.78,
                                                52.98,
                                                53.06,
                                                53.6,
                                                53.23,
                                                52.79,
                                                52.8,
                                                53.33,
                                                53.64,
                                                53.58,
                                                53.94,
                                                54.11,
                                                54.33,
                                                54.63,
                                                55.01,
                                                55.1,
                                                55.04,
                                                55.18,
                                                55.07,
                                                55.12,
                                                55.17,
                                                55.27,
                                                55.15,
                                                55.31,
                                                55.23,
                                                55.46,
                                                55.46,
                                                55.72,
                                                55.63,
                                                56.23,
                                                56.25,
                                                56.63,
                                                56.44,
                                                56.62,
                                                56.09,
                                                55.74,
                                                55.84,
                                                55.97,
                                                55.86,
                                                56.06,
                                                56.3,
                                                56.25,
                                                56.23,
                                                56.31,
                                                56.24,
                                                56.5,
                                                56.11,
                                                56.31,
                                                56.26,
                                                56.09,
                                                55.87,
                                                56.25,
                                                56.33,
                                                56.38,
                                                56.52,
                                                56.58,
                                                56.53,
                                                56.35,
                                                56.76,
                                                57.06,
                                                57.1,
                                                56.89,
                                                57,
                                                57,
                                                56.79,
                                                56.57
                                            ]
                                        },
                                        "volume": {
                                            "type": "number",
                                            "values": [
                                                100586,
                                                206927,
                                                92538,
                                                171919,
                                                98064,
                                                55468,
                                                116179,
                                                161670,
                                                698261,
                                                85588,
                                                189374,
                                                92502,
                                                92787,
                                                111494,
                                                63560,
                                                33524,
                                                88373,
                                                48257,
                                                54425,
                                                51479,
                                                54210,
                                                40978,
                                                121492,
                                                50239,
                                                101023,
                                                31953,
                                                181486,
                                                92985,
                                                89168,
                                                98350,
                                                97335,
                                                60350,
                                                33898,
                                                79402,
                                                84591,
                                                222531,
                                                61870,
                                                61675,
                                                43539,
                                                151764,
                                                20993,
                                                131570,
                                                58591,
                                                701440,
                                                41330,
                                                90032,
                                                92674,
                                                62866,
                                                181283,
                                                66109,
                                                138271,
                                                213021,
                                                42863,
                                                35282,
                                                55123,
                                                69937,
                                                97473,
                                                31601,
                                                81692,
                                                101420,
                                                79999,
                                                59616,
                                                68785,
                                                67696,
                                                41631,
                                                78606,
                                                59056,
                                                110727,
                                                98522,
                                                103257,
                                                43752,
                                                47059,
                                                46987,
                                                49219,
                                                56837,
                                                50447,
                                                47310,
                                                59387,
                                                785248,
                                                165444,
                                                304441,
                                                55626,
                                                54864,
                                                66202,
                                                123299,
                                                47063,
                                                102838,
                                                44191,
                                                63047,
                                                114145,
                                                119652,
                                                70681,
                                                52818,
                                                62356,
                                                173303,
                                                422205,
                                                214591,
                                                92219,
                                                50671,
                                                432777
                                            ]
                                        },
                                        "time": {
                                            "type": "date",
                                            "values": [
                                                "2017-08-09T14:00:00.000Z",
                                                "2017-08-10T14:00:00.000Z",
                                                "2017-08-13T14:00:00.000Z",
                                                "2017-08-14T14:00:00.000Z",
                                                "2017-08-15T14:00:00.000Z",
                                                "2017-08-16T14:00:00.000Z",
                                                "2017-08-17T14:00:00.000Z",
                                                "2017-08-20T14:00:00.000Z",
                                                "2017-08-21T14:00:00.000Z",
                                                "2017-08-22T14:00:00.000Z",
                                                "2017-08-23T14:00:00.000Z",
                                                "2017-08-24T14:00:00.000Z",
                                                "2017-08-27T14:00:00.000Z",
                                                "2017-08-28T14:00:00.000Z",
                                                "2017-08-29T14:00:00.000Z",
                                                "2017-08-30T14:00:00.000Z",
                                                "2017-08-31T14:00:00.000Z",
                                                "2017-09-03T14:00:00.000Z",
                                                "2017-09-04T14:00:00.000Z",
                                                "2017-09-05T14:00:00.000Z",
                                                "2017-09-06T14:00:00.000Z",
                                                "2017-09-07T14:00:00.000Z",
                                                "2017-09-10T14:00:00.000Z",
                                                "2017-09-11T14:00:00.000Z",
                                                "2017-09-12T14:00:00.000Z",
                                                "2017-09-13T14:00:00.000Z",
                                                "2017-09-14T14:00:00.000Z",
                                                "2017-09-17T14:00:00.000Z",
                                                "2017-09-18T14:00:00.000Z",
                                                "2017-09-19T14:00:00.000Z",
                                                "2017-09-20T14:00:00.000Z",
                                                "2017-09-21T14:00:00.000Z",
                                                "2017-09-24T14:00:00.000Z",
                                                "2017-09-25T14:00:00.000Z",
                                                "2017-09-26T14:00:00.000Z",
                                                "2017-09-27T14:00:00.000Z",
                                                "2017-09-28T14:00:00.000Z",
                                                "2017-10-01T14:00:00.000Z",
                                                "2017-10-02T14:00:00.000Z",
                                                "2017-10-03T14:00:00.000Z",
                                                "2017-10-04T14:00:00.000Z",
                                                "2017-10-05T14:00:00.000Z",
                                                "2017-10-08T14:00:00.000Z",
                                                "2017-10-09T14:00:00.000Z",
                                                "2017-10-10T14:00:00.000Z",
                                                "2017-10-11T14:00:00.000Z",
                                                "2017-10-12T14:00:00.000Z",
                                                "2017-10-15T14:00:00.000Z",
                                                "2017-10-16T14:00:00.000Z",
                                                "2017-10-17T14:00:00.000Z",
                                                "2017-10-18T14:00:00.000Z",
                                                "2017-10-19T14:00:00.000Z",
                                                "2017-10-22T14:00:00.000Z",
                                                "2017-10-23T14:00:00.000Z",
                                                "2017-10-24T14:00:00.000Z",
                                                "2017-10-25T14:00:00.000Z",
                                                "2017-10-26T14:00:00.000Z",
                                                "2017-10-29T14:00:00.000Z",
                                                "2017-10-30T14:00:00.000Z",
                                                "2017-10-31T14:00:00.000Z",
                                                "2017-11-01T14:00:00.000Z",
                                                "2017-11-02T14:00:00.000Z",
                                                "2017-11-05T14:00:00.000Z",
                                                "2017-11-06T14:00:00.000Z",
                                                "2017-11-07T14:00:00.000Z",
                                                "2017-11-08T14:00:00.000Z",
                                                "2017-11-09T14:00:00.000Z",
                                                "2017-11-12T14:00:00.000Z",
                                                "2017-11-13T14:00:00.000Z",
                                                "2017-11-14T14:00:00.000Z",
                                                "2017-11-15T14:00:00.000Z",
                                                "2017-11-16T14:00:00.000Z",
                                                "2017-11-19T14:00:00.000Z",
                                                "2017-11-20T14:00:00.000Z",
                                                "2017-11-21T14:00:00.000Z",
                                                "2017-11-22T14:00:00.000Z",
                                                "2017-11-23T14:00:00.000Z",
                                                "2017-11-26T14:00:00.000Z",
                                                "2017-11-27T14:00:00.000Z",
                                                "2017-11-28T14:00:00.000Z",
                                                "2017-11-29T14:00:00.000Z",
                                                "2017-11-30T14:00:00.000Z",
                                                "2017-12-03T14:00:00.000Z",
                                                "2017-12-04T14:00:00.000Z",
                                                "2017-12-05T14:00:00.000Z",
                                                "2017-12-06T14:00:00.000Z",
                                                "2017-12-07T14:00:00.000Z",
                                                "2017-12-10T14:00:00.000Z",
                                                "2017-12-11T14:00:00.000Z",
                                                "2017-12-12T14:00:00.000Z",
                                                "2017-12-13T14:00:00.000Z",
                                                "2017-12-14T14:00:00.000Z",
                                                "2017-12-17T14:00:00.000Z",
                                                "2017-12-18T14:00:00.000Z",
                                                "2017-12-19T14:00:00.000Z",
                                                "2017-12-20T14:00:00.000Z",
                                                "2017-12-21T14:00:00.000Z",
                                                "2017-12-26T14:00:00.000Z",
                                                "2017-12-27T14:00:00.000Z",
                                                "2017-12-28T14:00:00.000Z"
                                            ]
                                        },
                                        "sma": {
                                            "type": "number",
                                            "values": [
                                                53.73366666666665,
                                                53.728333333333325,
                                                53.745,
                                                53.739,
                                                53.74966666666667,
                                                53.76199999999999,
                                                53.784666666666666,
                                                53.79033333333333,
                                                53.80566666666667,
                                                53.835,
                                                53.84533333333333,
                                                53.852999999999994,
                                                53.850333333333325,
                                                53.856333333333325,
                                                53.85099999999999,
                                                53.85066666666667,
                                                53.86666666666667,
                                                53.88833333333334,
                                                53.896666666666675,
                                                53.88633333333335,
                                                53.87366666666667,
                                                53.887333333333345,
                                                53.90733333333334,
                                                53.921333333333344,
                                                53.94466666666668,
                                                53.969000000000015,
                                                53.98400000000001,
                                                53.991666666666674,
                                                54.005,
                                                54.00933333333333,
                                                54.000666666666675,
                                                54.019000000000005,
                                                54.02700000000001,
                                                54.022333333333336,
                                                54.00166666666666,
                                                53.95666666666666,
                                                53.922999999999995,
                                                53.91566666666666,
                                                53.885,
                                                53.844,
                                                53.800999999999995,
                                                53.77399999999999,
                                                53.767999999999994,
                                                53.77233333333332,
                                                53.78566666666666,
                                                53.79166666666666,
                                                53.80066666666665,
                                                53.82566666666666,
                                                53.86333333333333,
                                                53.906666666666666,
                                                53.94766666666667,
                                                53.995,
                                                54.02466666666666,
                                                54.045999999999985,
                                                54.06833333333332,
                                                54.09733333333333,
                                                54.13400000000001,
                                                54.168,
                                                54.202,
                                                54.24566666666667,
                                                54.30466666666668,
                                                54.363666666666674,
                                                54.41900000000001,
                                                54.49833333333334,
                                                54.58066666666668,
                                                54.70233333333335,
                                                54.81500000000002,
                                                54.915666666666674,
                                                55.011,
                                                55.10933333333333,
                                                55.210666666666675,
                                                55.29866666666667,
                                                55.37266666666667,
                                                55.45533333333333,
                                                55.53399999999999,
                                                55.60533333333333,
                                                55.66866666666666,
                                                55.72466666666666,
                                                55.765666666666654,
                                                55.81233333333333,
                                                55.847999999999985,
                                                55.88566666666666,
                                                55.92533333333332,
                                                55.95766666666666,
                                                55.98099999999999,
                                                56.01366666666665,
                                                56.05299999999999,
                                                56.088666666666654,
                                                56.13166666666665,
                                                56.16899999999998,
                                                56.204666666666654,
                                                56.22566666666665,
                                                56.26333333333332,
                                                56.29099999999998,
                                                56.319333333333326,
                                                56.327999999999996,
                                                56.346666666666664,
                                                56.35933333333333,
                                                56.38266666666666,
                                                56.41033333333333
                                            ]
                                        }
                                    }
                                },
                                "plotConfig": {
                                    "legend": {
                                        "show": true
                                    },
                                    "chartType": "line",
                                    "width": "95%",
                                    "height": "95%",
                                    "y": {
                                        "min": 52.79,
                                        "max": 57.1
                                    },
                                    "y2": {}
                                },
                                "axisMap": {
                                    "y": [
                                        {
                                            "series": "close"
                                        },
                                        {
                                            "series": "sma"
                                        }
                                    ],
                                    "y2": []
                                }
                            }
                        }
                    }
                ],
                "errors": [],
                "height": 491
            },
            {
                "id": "922d5540-daf4-11e8-831f-d150615bd7aa",
                "cellType": "markdown",
                "code": "## Define your trading strategy\r\n\r\nIt's time to define our trading strategy. A [Grademark](https://github.com/ashleydavis/grademark) strategy is a simple JavaScript object that defines rules for entry and exit. We are going to enter a position when the price is below average and then exit as soon as the price is above average. I told you this was a simple strategy!\r\n\r\nWe also set a 2% stop loss that will help limit our losses for trades that go against us.",
                "lastEvaluationDate": "2018-11-16T15:53:20.125+10:00",
                "output": [],
                "errors": [],
                "height": 150
            },
            {
                "id": "1f799622-d370-11e8-b62a-7b63438e3c42",
                "cellType": "code",
                "cellScope": "global",
                "code": "const { backtest, analyze, computeEquityCurve, computeDrawdown } = require('grademark');\r\n\r\nconst strategy = {\r\n    entryRule: (enterPosition, args) => {\r\n        if (args.bar.close < args.bar.sma) { // Buy when price is below average.\r\n            enterPosition();\r\n        }\r\n    },\r\n\r\n    exitRule: (exitPosition, args) => {\r\n        if (args.bar.close > args.bar.sma) {\r\n            exitPosition(); // Sell when price is above average.\r\n        }\r\n    },\r\n\r\n    stopLoss: args => { // Intrabar stop loss.\r\n        return args.entryPrice * (2 / 100); // Stop out on 2% loss from entry price.\r\n    },\r\n};",
                "lastEvaluationDate": "2020-10-10T11:54:11.196+10:00",
                "output": [],
                "errors": [],
                "height": 403
            },
            {
                "id": "54a7e760-daf6-11e8-831f-d150615bd7aa",
                "cellType": "markdown",
                "code": "## Backtest your strategy\r\n\r\nNow that we have a strategy we can simulate trading it on historical data and see how it performs!\r\n\r\nCalling the `backtest` function gives us the collection of trades that would have been executed on the historical data according to the strategy that we defined.",
                "lastEvaluationDate": "2018-11-16T15:53:20.133+10:00",
                "output": [],
                "errors": [],
                "height": 150
            },
            {
                "id": "55500e40-daf6-11e8-831f-d150615bd7aa",
                "cellType": "code",
                "cellScope": "global",
                "code": "const trades = backtest(strategy, inputSeries);\r\ndisplay(\"# trades: \" + trades.length);\r\ndisplay.table(trades.slice(0, 5));",
                "lastEvaluationDate": "2020-10-10T11:54:11.197+10:00",
                "output": [
                    {
                        "value": {
                            "displayType": "string",
                            "data": "# trades: 61"
                        }
                    },
                    {
                        "value": {
                            "displayType": "table",
                            "data": {
                                "rows": [
                                    {
                                        "direction": "long",
                                        "entryTime": "2015-03-11T14:00:00.000Z",
                                        "entryPrice": 54.17,
                                        "exitTime": "2015-03-15T14:00:00.000Z",
                                        "exitPrice": 54.38,
                                        "profit": 0.21000000000000085,
                                        "profitPct": 0.38766845117223714,
                                        "growth": 1.0038766845117224,
                                        "riskPct": 1.9999999999999951,
                                        "rmultiple": 0.193834225586119,
                                        "holdingPeriod": 1,
                                        "exitReason": "exit-rule",
                                        "stopPrice": 53.086600000000004
                                    },
                                    {
                                        "direction": "long",
                                        "entryTime": "2015-03-30T14:00:00.000Z",
                                        "entryPrice": 55.5,
                                        "exitTime": "2015-04-06T14:00:00.000Z",
                                        "exitPrice": 55.76,
                                        "profit": 0.259999999999998,
                                        "profitPct": 0.4684684684684649,
                                        "growth": 1.0046846846846846,
                                        "riskPct": 1.9999999999999991,
                                        "rmultiple": 0.23423423423423256,
                                        "holdingPeriod": 2,
                                        "exitReason": "exit-rule",
                                        "stopPrice": 54.39
                                    },
                                    {
                                        "direction": "long",
                                        "entryTime": "2015-04-19T14:00:00.000Z",
                                        "entryPrice": 54.99,
                                        "exitTime": "2015-04-26T14:00:00.000Z",
                                        "exitPrice": 55.86,
                                        "profit": 0.8699999999999974,
                                        "profitPct": 1.5821058374249817,
                                        "growth": 1.0158210583742497,
                                        "riskPct": 2.0000000000000036,
                                        "rmultiple": 0.7910529187124895,
                                        "holdingPeriod": 4,
                                        "exitReason": "exit-rule",
                                        "stopPrice": 53.8902
                                    },
                                    {
                                        "direction": "long",
                                        "entryTime": "2015-04-29T14:00:00.000Z",
                                        "entryPrice": 54.37,
                                        "exitTime": "2015-05-06T14:00:00.000Z",
                                        "exitPrice": 53.282599999999995,
                                        "profit": -1.0874000000000024,
                                        "profitPct": -2.0000000000000044,
                                        "growth": 0.98,
                                        "riskPct": 2.0000000000000044,
                                        "rmultiple": -1,
                                        "holdingPeriod": 4,
                                        "exitReason": "stop-loss",
                                        "stopPrice": 53.282599999999995
                                    },
                                    {
                                        "direction": "long",
                                        "entryTime": "2015-05-10T14:00:00.000Z",
                                        "entryPrice": 53.4,
                                        "exitTime": "2015-05-26T14:00:00.000Z",
                                        "exitPrice": 54.23,
                                        "profit": 0.8299999999999983,
                                        "profitPct": 1.5543071161048658,
                                        "growth": 1.0155430711610487,
                                        "riskPct": 1.9999999999999958,
                                        "rmultiple": 0.7771535580524345,
                                        "holdingPeriod": 11,
                                        "exitReason": "exit-rule",
                                        "stopPrice": 52.332
                                    }
                                ],
                                "columnNames": [
                                    "direction",
                                    "entryTime",
                                    "entryPrice",
                                    "exitTime",
                                    "exitPrice",
                                    "profit",
                                    "profitPct",
                                    "growth",
                                    "riskPct",
                                    "riskSeries",
                                    "rmultiple",
                                    "holdingPeriod",
                                    "exitReason",
                                    "stopPrice",
                                    "stopPriceSeries",
                                    "profitTarget"
                                ]
                            }
                        }
                    }
                ],
                "errors": [],
                "height": 422
            },
            {
                "id": "95aa5c20-daf6-11e8-831f-d150615bd7aa",
                "cellType": "markdown",
                "code": "## Plot your trades\r\n\r\nLet's plot the profit on our trades to visualize what they look like... you can see that all the losing trades are clamped to 2%, that shows that our stop loss is working.\r\n\r\nYou might notice that one loss is greater than 2%, that's actually because there was gap down that triggered the stop loss and caused it to be greater than expected.",
                "lastEvaluationDate": "2018-11-16T15:53:20.141+10:00",
                "output": [],
                "errors": [],
                "height": 169
            },
            {
                "id": "ae3206e0-d50f-11e8-9de5-774a0a7a5ea4",
                "cellType": "code",
                "cellScope": "global",
                "code": "display.plot(trades, { chartType: \"bar\" }, { y: \"profitPct\" });",
                "lastEvaluationDate": "2020-10-10T11:54:11.246+10:00",
                "output": [
                    {
                        "value": {
                            "displayType": "plot",
                            "data": {
                                "data": {
                                    "series": {
                                        "direction": {
                                            "type": "string",
                                            "values": [
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long",
                                                "long"
                                            ]
                                        },
                                        "entryTime": {
                                            "type": "date",
                                            "values": [
                                                "2015-03-11T14:00:00.000Z",
                                                "2015-03-30T14:00:00.000Z",
                                                "2015-04-19T14:00:00.000Z",
                                                "2015-04-29T14:00:00.000Z",
                                                "2015-05-10T14:00:00.000Z",
                                                "2015-05-28T14:00:00.000Z",
                                                "2015-06-04T14:00:00.000Z",
                                                "2015-06-28T14:00:00.000Z",
                                                "2015-07-01T14:00:00.000Z",
                                                "2015-07-12T14:00:00.000Z",
                                                "2015-07-23T14:00:00.000Z",
                                                "2015-08-09T14:00:00.000Z",
                                                "2015-08-13T14:00:00.000Z",
                                                "2015-08-24T14:00:00.000Z",
                                                "2015-09-22T14:00:00.000Z",
                                                "2015-09-30T14:00:00.000Z",
                                                "2015-11-02T14:00:00.000Z",
                                                "2015-11-09T14:00:00.000Z",
                                                "2015-11-17T14:00:00.000Z",
                                                "2015-11-30T14:00:00.000Z",
                                                "2015-12-06T14:00:00.000Z",
                                                "2015-12-09T14:00:00.000Z",
                                                "2015-12-15T14:00:00.000Z",
                                                "2016-01-05T14:00:00.000Z",
                                                "2016-01-10T14:00:00.000Z",
                                                "2016-01-19T14:00:00.000Z",
                                                "2016-02-11T14:00:00.000Z",
                                                "2016-02-24T14:00:00.000Z",
                                                "2016-03-29T14:00:00.000Z",
                                                "2016-04-04T14:00:00.000Z",
                                                "2016-06-02T14:00:00.000Z",
                                                "2016-06-13T14:00:00.000Z",
                                                "2016-06-27T14:00:00.000Z",
                                                "2016-08-29T14:00:00.000Z",
                                                "2016-09-05T14:00:00.000Z",
                                                "2016-09-13T14:00:00.000Z",
                                                "2016-10-02T14:00:00.000Z",
                                                "2016-10-13T14:00:00.000Z",
                                                "2016-10-24T14:00:00.000Z",
                                                "2016-10-30T14:00:00.000Z",
                                                "2016-11-10T14:00:00.000Z",
                                                "2016-11-16T14:00:00.000Z",
                                                "2017-01-22T14:00:00.000Z",
                                                "2017-01-31T14:00:00.000Z",
                                                "2017-03-22T14:00:00.000Z",
                                                "2017-04-19T14:00:00.000Z",
                                                "2017-05-07T14:00:00.000Z",
                                                "2017-05-14T14:00:00.000Z",
                                                "2017-06-08T14:00:00.000Z",
                                                "2017-06-15T14:00:00.000Z",
                                                "2017-06-21T14:00:00.000Z",
                                                "2017-07-02T14:00:00.000Z",
                                                "2017-07-06T14:00:00.000Z",
                                                "2017-07-30T14:00:00.000Z",
                                                "2017-08-03T14:00:00.000Z",
                                                "2017-08-13T14:00:00.000Z",
                                                "2017-08-28T14:00:00.000Z",
                                                "2017-09-04T14:00:00.000Z",
                                                "2017-09-21T14:00:00.000Z",
                                                "2017-10-05T14:00:00.000Z",
                                                "2017-12-06T14:00:00.000Z"
                                            ]
                                        },
                                        "entryPrice": {
                                            "type": "number",
                                            "values": [
                                                54.17,
                                                55.5,
                                                54.99,
                                                54.37,
                                                53.4,
                                                54.26,
                                                51.84,
                                                51.52,
                                                51.68,
                                                51.28,
                                                51.87,
                                                50.99,
                                                50.22,
                                                45.73,
                                                47.64,
                                                47.69,
                                                49.38,
                                                48.49,
                                                48.56,
                                                49.28,
                                                49.89,
                                                48.32,
                                                47.32,
                                                48.65,
                                                45.86,
                                                45.7,
                                                44.63,
                                                46.08,
                                                47.73,
                                                47.15,
                                                50.59,
                                                49.76,
                                                48.22,
                                                52,
                                                51.24,
                                                49.2,
                                                51.01,
                                                50.86,
                                                50.67,
                                                49.35,
                                                50.09,
                                                49.78,
                                                53.09,
                                                52.6,
                                                53.85,
                                                54.68,
                                                55.41,
                                                54.6,
                                                53.39,
                                                54.52,
                                                53.64,
                                                53.54,
                                                53.46,
                                                53.45,
                                                53.5,
                                                53.67,
                                                53.62,
                                                53.99,
                                                53.87,
                                                53.27,
                                                55.96
                                            ]
                                        },
                                        "exitTime": {
                                            "type": "date",
                                            "values": [
                                                "2015-03-15T14:00:00.000Z",
                                                "2015-04-06T14:00:00.000Z",
                                                "2015-04-26T14:00:00.000Z",
                                                "2015-05-06T14:00:00.000Z",
                                                "2015-05-26T14:00:00.000Z",
                                                "2015-06-02T14:00:00.000Z",
                                                "2015-06-23T14:00:00.000Z",
                                                "2015-06-29T14:00:00.000Z",
                                                "2015-07-08T14:00:00.000Z",
                                                "2015-07-15T14:00:00.000Z",
                                                "2015-07-29T14:00:00.000Z",
                                                "2015-08-11T14:00:00.000Z",
                                                "2015-08-20T14:00:00.000Z",
                                                "2015-09-20T14:00:00.000Z",
                                                "2015-09-28T14:00:00.000Z",
                                                "2015-10-05T14:00:00.000Z",
                                                "2015-11-04T14:00:00.000Z",
                                                "2015-11-15T14:00:00.000Z",
                                                "2015-11-19T14:00:00.000Z",
                                                "2015-12-02T14:00:00.000Z",
                                                "2015-12-07T14:00:00.000Z",
                                                "2015-12-13T14:00:00.000Z",
                                                "2015-12-23T14:00:00.000Z",
                                                "2016-01-06T14:00:00.000Z",
                                                "2016-01-17T14:00:00.000Z",
                                                "2016-02-09T14:00:00.000Z",
                                                "2016-02-18T14:00:00.000Z",
                                                "2016-03-01T14:00:00.000Z",
                                                "2016-03-31T14:00:00.000Z",
                                                "2016-04-14T14:00:00.000Z",
                                                "2016-06-06T14:00:00.000Z",
                                                "2016-06-23T14:00:00.000Z",
                                                "2016-07-11T14:00:00.000Z",
                                                "2016-09-01T14:00:00.000Z",
                                                "2016-09-11T14:00:00.000Z",
                                                "2016-09-22T14:00:00.000Z",
                                                "2016-10-04T14:00:00.000Z",
                                                "2016-10-19T14:00:00.000Z",
                                                "2016-10-26T14:00:00.000Z",
                                                "2016-11-08T14:00:00.000Z",
                                                "2016-11-14T14:00:00.000Z",
                                                "2016-11-20T14:00:00.000Z",
                                                "2017-01-29T14:00:00.000Z",
                                                "2017-02-12T14:00:00.000Z",
                                                "2017-03-26T14:00:00.000Z",
                                                "2017-04-23T14:00:00.000Z",
                                                "2017-05-10T14:00:00.000Z",
                                                "2017-06-06T14:00:00.000Z",
                                                "2017-06-13T14:00:00.000Z",
                                                "2017-06-19T14:00:00.000Z",
                                                "2017-06-28T14:00:00.000Z",
                                                "2017-07-04T14:00:00.000Z",
                                                "2017-07-26T14:00:00.000Z",
                                                "2017-08-01T14:00:00.000Z",
                                                "2017-08-07T14:00:00.000Z",
                                                "2017-08-15T14:00:00.000Z",
                                                "2017-08-31T14:00:00.000Z",
                                                "2017-09-11T14:00:00.000Z",
                                                "2017-10-03T14:00:00.000Z",
                                                "2017-10-11T14:00:00.000Z",
                                                "2017-12-10T14:00:00.000Z"
                                            ]
                                        },
                                        "exitPrice": {
                                            "type": "number",
                                            "values": [
                                                54.38,
                                                55.76,
                                                55.86,
                                                53.282599999999995,
                                                54.23,
                                                53.1748,
                                                53.77,
                                                50.4896,
                                                50.6464,
                                                52.95,
                                                52.8,
                                                49.970200000000006,
                                                49.2156,
                                                48.09,
                                                47.37,
                                                49.2,
                                                49.74,
                                                47.5202,
                                                50,
                                                49.73,
                                                48.8922,
                                                47.3536,
                                                49.59,
                                                47.677,
                                                44.9428,
                                                44.786,
                                                46.66,
                                                47.09,
                                                47.7,
                                                48.35,
                                                51.06,
                                                48.7648,
                                                50.32,
                                                50.96,
                                                50.2152,
                                                51.14,
                                                51.1,
                                                50.91,
                                                49.656600000000005,
                                                48.363,
                                                50.13,
                                                50.37,
                                                53.11,
                                                53.57,
                                                53.99,
                                                55.24,
                                                55.47,
                                                53.508,
                                                54.63,
                                                54.81,
                                                54.21,
                                                54.18,
                                                54.15,
                                                54.2,
                                                54.2,
                                                54,
                                                54.08,
                                                54.44,
                                                52.7926,
                                                53.89,
                                                56.52
                                            ]
                                        },
                                        "profit": {
                                            "type": "number",
                                            "values": [
                                                0.21000000000000085,
                                                0.259999999999998,
                                                0.8699999999999974,
                                                -1.0874000000000024,
                                                0.8299999999999983,
                                                -1.0852000000000004,
                                                1.9299999999999997,
                                                -1.0304000000000002,
                                                -1.0335999999999999,
                                                1.6700000000000017,
                                                0.9299999999999997,
                                                -1.0197999999999965,
                                                -1.0043999999999969,
                                                2.3600000000000065,
                                                -0.2700000000000031,
                                                1.5100000000000051,
                                                0.35999999999999943,
                                                -0.9697999999999993,
                                                1.4399999999999977,
                                                0.44999999999999574,
                                                -0.997799999999998,
                                                -0.9664000000000001,
                                                2.270000000000003,
                                                -0.972999999999999,
                                                -0.9172000000000011,
                                                -0.9140000000000015,
                                                2.029999999999994,
                                                1.0100000000000051,
                                                -0.02999999999999403,
                                                1.2000000000000028,
                                                0.46999999999999886,
                                                -0.995199999999997,
                                                2.1000000000000014,
                                                -1.0399999999999991,
                                                -1.024799999999999,
                                                1.9399999999999977,
                                                0.09000000000000341,
                                                0.04999999999999716,
                                                -1.0133999999999972,
                                                -0.9870000000000019,
                                                0.03999999999999915,
                                                0.5899999999999963,
                                                0.01999999999999602,
                                                0.9699999999999989,
                                                0.14000000000000057,
                                                0.5600000000000023,
                                                0.060000000000002274,
                                                -1.0919999999999987,
                                                1.240000000000002,
                                                0.28999999999999915,
                                                0.5700000000000003,
                                                0.6400000000000006,
                                                0.6899999999999977,
                                                0.75,
                                                0.7000000000000028,
                                                0.3299999999999983,
                                                0.46000000000000085,
                                                0.44999999999999574,
                                                -1.0773999999999972,
                                                0.6199999999999974,
                                                0.5600000000000023
                                            ]
                                        },
                                        "profitPct": {
                                            "type": "number",
                                            "values": [
                                                0.38766845117223714,
                                                0.4684684684684649,
                                                1.5821058374249817,
                                                -2.0000000000000044,
                                                1.5543071161048658,
                                                -2.000000000000001,
                                                3.722993827160493,
                                                -2.0000000000000004,
                                                -1.9999999999999998,
                                                3.2566302652106116,
                                                1.7929438982070556,
                                                -1.9999999999999931,
                                                -1.9999999999999938,
                                                5.160726000437364,
                                                -0.5667506297229284,
                                                3.1662822394632104,
                                                0.7290400972053451,
                                                -1.9999999999999987,
                                                2.9654036243822026,
                                                0.9131493506493419,
                                                -1.9999999999999958,
                                                -2.0000000000000004,
                                                4.797125950972111,
                                                -1.999999999999998,
                                                -2.0000000000000027,
                                                -2.000000000000003,
                                                4.5485099708715975,
                                                2.1918402777777892,
                                                -0.06285355122563174,
                                                2.545068928950165,
                                                0.9290373591618875,
                                                -1.9999999999999942,
                                                4.355039402737456,
                                                -1.9999999999999982,
                                                -1.999999999999998,
                                                3.943089430894304,
                                                0.17643599294256698,
                                                0.09830908375933378,
                                                -1.9999999999999944,
                                                -2.000000000000004,
                                                0.0798562587342766,
                                                1.1852149457613426,
                                                0.037671877943107966,
                                                1.8441064638783249,
                                                0.2599814298978655,
                                                1.0241404535479193,
                                                0.10828370330265705,
                                                -1.9999999999999976,
                                                2.3225323094212436,
                                                0.5319148936170197,
                                                1.0626398210290833,
                                                1.1953679491968632,
                                                1.290684624017953,
                                                1.4031805425631432,
                                                1.3084112149532763,
                                                0.6148686416992701,
                                                0.857888847444985,
                                                0.8334876829042336,
                                                -1.999999999999995,
                                                1.1638821100056267,
                                                1.0007147962830634
                                            ]
                                        },
                                        "growth": {
                                            "type": "number",
                                            "values": [
                                                1.0038766845117224,
                                                1.0046846846846846,
                                                1.0158210583742497,
                                                0.98,
                                                1.0155430711610487,
                                                0.98,
                                                1.037229938271605,
                                                0.98,
                                                0.98,
                                                1.0325663026521061,
                                                1.0179294389820706,
                                                0.9800000000000001,
                                                0.9800000000000001,
                                                1.0516072600043735,
                                                0.9943324937027708,
                                                1.031662822394632,
                                                1.0072904009720534,
                                                0.98,
                                                1.029654036243822,
                                                1.0091314935064934,
                                                0.9800000000000001,
                                                0.98,
                                                1.047971259509721,
                                                0.98,
                                                0.98,
                                                0.98,
                                                1.045485099708716,
                                                1.021918402777778,
                                                0.9993714644877437,
                                                1.0254506892895017,
                                                1.0092903735916188,
                                                0.9800000000000001,
                                                1.0435503940273745,
                                                0.98,
                                                0.98,
                                                1.039430894308943,
                                                1.0017643599294257,
                                                1.0009830908375934,
                                                0.9800000000000001,
                                                0.98,
                                                1.0007985625873428,
                                                1.0118521494576134,
                                                1.000376718779431,
                                                1.0184410646387831,
                                                1.0025998142989787,
                                                1.0102414045354793,
                                                1.0010828370330265,
                                                0.98,
                                                1.0232253230942125,
                                                1.0053191489361701,
                                                1.0106263982102908,
                                                1.0119536794919686,
                                                1.0129068462401796,
                                                1.0140318054256314,
                                                1.0130841121495329,
                                                1.0061486864169926,
                                                1.0085788884744498,
                                                1.0083348768290423,
                                                0.9800000000000001,
                                                1.0116388211000562,
                                                1.0100071479628305
                                            ]
                                        },
                                        "riskPct": {
                                            "type": "number",
                                            "values": [
                                                1.9999999999999951,
                                                1.9999999999999991,
                                                2.0000000000000036,
                                                2.0000000000000044,
                                                1.9999999999999958,
                                                2.000000000000001,
                                                1.9999999999999991,
                                                2.0000000000000004,
                                                1.9999999999999998,
                                                1.9999999999999944,
                                                1.9999999999999967,
                                                1.9999999999999931,
                                                1.9999999999999938,
                                                2.0000000000000004,
                                                2.000000000000007,
                                                2.0000000000000027,
                                                2.000000000000001,
                                                1.9999999999999987,
                                                2.000000000000006,
                                                1.9999999999999958,
                                                1.9999999999999958,
                                                2.0000000000000004,
                                                1.9999999999999938,
                                                1.999999999999998,
                                                2.0000000000000027,
                                                2.000000000000003,
                                                2.0000000000000036,
                                                1.9999999999999956,
                                                1.9999999999999987,
                                                1.9999999999999956,
                                                2.0000000000000018,
                                                1.9999999999999942,
                                                1.9999999999999951,
                                                1.9999999999999982,
                                                1.999999999999998,
                                                2.0000000000000036,
                                                2.0000000000000053,
                                                2.000000000000005,
                                                1.9999999999999944,
                                                2.000000000000004,
                                                2.0000000000000058,
                                                2.000000000000006,
                                                1.9999999999999962,
                                                1.9999999999999993,
                                                1.9999999999999967,
                                                2.000000000000004,
                                                1.9999999999999938,
                                                1.9999999999999976,
                                                1.999999999999997,
                                                2.0000000000000044,
                                                2.0000000000000013,
                                                1.999999999999997,
                                                2.000000000000004,
                                                2.000000000000005,
                                                2.0000000000000004,
                                                1.9999999999999991,
                                                2.0000000000000036,
                                                1.9999999999999976,
                                                1.999999999999995,
                                                1.9999999999999938,
                                                1.9999999999999987
                                            ]
                                        },
                                        "riskSeries": {
                                            "type": "undefined",
                                            "values": [
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null
                                            ]
                                        },
                                        "rmultiple": {
                                            "type": "number",
                                            "values": [
                                                0.193834225586119,
                                                0.23423423423423256,
                                                0.7910529187124895,
                                                -1,
                                                0.7771535580524345,
                                                -1,
                                                1.8614969135802475,
                                                -1,
                                                -1,
                                                1.6283151326053102,
                                                0.8964719491035295,
                                                -1,
                                                -1,
                                                2.5803630002186817,
                                                -0.2833753148614632,
                                                1.5831411197316034,
                                                0.3645200486026724,
                                                -1,
                                                1.4827018121910966,
                                                0.4565746753246719,
                                                -1,
                                                -1,
                                                2.398562975486063,
                                                -1,
                                                -1,
                                                -1,
                                                2.2742549854357947,
                                                1.0959201388888968,
                                                -0.0314267756128159,
                                                1.2725344644750856,
                                                0.4645186795809433,
                                                -1,
                                                2.1775197013687335,
                                                -1,
                                                -1,
                                                1.9715447154471486,
                                                0.08821799647128326,
                                                0.049154541879666766,
                                                -1,
                                                -1,
                                                0.03992812936713818,
                                                0.5926074728806694,
                                                0.018835938971554018,
                                                0.9220532319391628,
                                                0.12999071494893297,
                                                0.5120702267739586,
                                                0.0541418516513287,
                                                -1,
                                                1.1612661547106238,
                                                0.26595744680850925,
                                                0.5313199105145412,
                                                0.5976839745984325,
                                                0.6453423120089753,
                                                0.7015902712815698,
                                                0.654205607476638,
                                                0.30743432084963523,
                                                0.4289444237224917,
                                                0.4167438414521173,
                                                -1,
                                                0.5819410550028152,
                                                0.500357398141532
                                            ]
                                        },
                                        "holdingPeriod": {
                                            "type": "number",
                                            "values": [
                                                1,
                                                2,
                                                4,
                                                4,
                                                11,
                                                2,
                                                11,
                                                0,
                                                4,
                                                2,
                                                3,
                                                1,
                                                4,
                                                18,
                                                3,
                                                2,
                                                1,
                                                3,
                                                1,
                                                1,
                                                0,
                                                1,
                                                5,
                                                0,
                                                4,
                                                13,
                                                4,
                                                3,
                                                1,
                                                7,
                                                1,
                                                7,
                                                9,
                                                2,
                                                3,
                                                6,
                                                1,
                                                3,
                                                1,
                                                6,
                                                1,
                                                1,
                                                3,
                                                7,
                                                1,
                                                1,
                                                2,
                                                16,
                                                1,
                                                1,
                                                4,
                                                1,
                                                13,
                                                1,
                                                1,
                                                1,
                                                2,
                                                4,
                                                7,
                                                3,
                                                1
                                            ]
                                        },
                                        "exitReason": {
                                            "type": "string",
                                            "values": [
                                                "exit-rule",
                                                "exit-rule",
                                                "exit-rule",
                                                "stop-loss",
                                                "exit-rule",
                                                "stop-loss",
                                                "exit-rule",
                                                "stop-loss",
                                                "stop-loss",
                                                "exit-rule",
                                                "exit-rule",
                                                "stop-loss",
                                                "stop-loss",
                                                "exit-rule",
                                                "exit-rule",
                                                "exit-rule",
                                                "exit-rule",
                                                "stop-loss",
                                                "exit-rule",
                                                "exit-rule",
                                                "stop-loss",
                                                "stop-loss",
                                                "exit-rule",
                                                "stop-loss",
                                                "stop-loss",
                                                "stop-loss",
                                                "exit-rule",
                                                "exit-rule",
                                                "exit-rule",
                                                "exit-rule",
                                                "exit-rule",
                                                "stop-loss",
                                                "exit-rule",
                                                "stop-loss",
                                                "stop-loss",
                                                "exit-rule",
                                                "exit-rule",
                                                "exit-rule",
                                                "stop-loss",
                                                "stop-loss",
                                                "exit-rule",
                                                "exit-rule",
                                                "exit-rule",
                                                "exit-rule",
                                                "exit-rule",
                                                "exit-rule",
                                                "exit-rule",
                                                "stop-loss",
                                                "exit-rule",
                                                "exit-rule",
                                                "exit-rule",
                                                "exit-rule",
                                                "exit-rule",
                                                "exit-rule",
                                                "exit-rule",
                                                "exit-rule",
                                                "exit-rule",
                                                "exit-rule",
                                                "stop-loss",
                                                "exit-rule",
                                                "exit-rule"
                                            ]
                                        },
                                        "stopPrice": {
                                            "type": "number",
                                            "values": [
                                                53.086600000000004,
                                                54.39,
                                                53.8902,
                                                53.282599999999995,
                                                52.332,
                                                53.1748,
                                                50.803200000000004,
                                                50.4896,
                                                50.6464,
                                                50.254400000000004,
                                                50.8326,
                                                49.970200000000006,
                                                49.2156,
                                                44.8154,
                                                46.6872,
                                                46.7362,
                                                48.3924,
                                                47.5202,
                                                47.5888,
                                                48.2944,
                                                48.8922,
                                                47.3536,
                                                46.3736,
                                                47.677,
                                                44.9428,
                                                44.786,
                                                43.7374,
                                                45.1584,
                                                46.7754,
                                                46.207,
                                                49.5782,
                                                48.7648,
                                                47.2556,
                                                50.96,
                                                50.2152,
                                                48.216,
                                                49.989799999999995,
                                                49.8428,
                                                49.656600000000005,
                                                48.363,
                                                49.0882,
                                                48.7844,
                                                52.028200000000005,
                                                51.548,
                                                52.773,
                                                53.5864,
                                                54.3018,
                                                53.508,
                                                52.3222,
                                                53.4296,
                                                52.5672,
                                                52.4692,
                                                52.3908,
                                                52.381,
                                                52.43,
                                                52.5966,
                                                52.547599999999996,
                                                52.9102,
                                                52.7926,
                                                52.204600000000006,
                                                54.8408
                                            ]
                                        },
                                        "stopPriceSeries": {
                                            "type": "undefined",
                                            "values": [
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null
                                            ]
                                        },
                                        "profitTarget": {
                                            "type": "undefined",
                                            "values": [
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null,
                                                null
                                            ]
                                        }
                                    }
                                },
                                "plotConfig": {
                                    "legend": {
                                        "show": true
                                    },
                                    "chartType": "bar",
                                    "width": "95%",
                                    "height": "95%",
                                    "y": {
                                        "min": -2.01,
                                        "max": 5.17
                                    },
                                    "y2": {}
                                },
                                "axisMap": {
                                    "y": [
                                        {
                                            "series": "profitPct"
                                        }
                                    ],
                                    "y2": []
                                }
                            }
                        }
                    }
                ],
                "errors": [],
                "height": 491
            },
            {
                "id": "b6023c90-daf6-11e8-831f-d150615bd7aa",
                "cellType": "markdown",
                "code": "## Analyze performance \r\n\r\nTo get a clear picture of how well (or not) the strategy performed we can use the `analyze` function to produce a summary of results.\r\n\r\nHere we need to specify an amount of starting capital. This is the amount of (virtual) cash that we invest in the strategy at the start of trading. You can see that executing this strategy from 2015 to end 2016 delivers us a nice profit of 83%. This is fairly optimistic (it doesn't include fees and slippage) but it's a good start.",
                "lastEvaluationDate": "2018-11-16T15:53:20.159+10:00",
                "output": [],
                "errors": [],
                "height": 169
            },
            {
                "id": "2fab5780-d376-11e8-b62a-7b63438e3c42",
                "cellType": "code",
                "cellScope": "global",
                "code": "const startingCapital = 10000;\r\nconst analysis = analyze(startingCapital, trades); // Analyse the performance of this set of trades.\r\ndisplay.table(analysis);",
                "lastEvaluationDate": "2020-10-10T11:54:11.401+10:00",
                "output": [
                    {
                        "value": {
                            "displayType": "table",
                            "data": {
                                "columnNames": [
                                    "Property",
                                    "Value"
                                ],
                                "rows": [
                                    {
                                        "Property": "startingCapital",
                                        "Value": 10000
                                    },
                                    {
                                        "Property": "finalCapital",
                                        "Value": 13158.218982428927
                                    },
                                    {
                                        "Property": "profit",
                                        "Value": 3158.218982428927
                                    },
                                    {
                                        "Property": "profitPct",
                                        "Value": 31.58218982428927
                                    },
                                    {
                                        "Property": "growth",
                                        "Value": 1.3158218982428926
                                    },
                                    {
                                        "Property": "totalTrades",
                                        "Value": 61
                                    },
                                    {
                                        "Property": "barCount",
                                        "Value": 227
                                    },
                                    {
                                        "Property": "maxDrawdown",
                                        "Value": -658.0722956983409
                                    },
                                    {
                                        "Property": "maxDrawdownPct",
                                        "Value": -5.8807999999999945
                                    },
                                    {
                                        "Property": "maxRiskPct",
                                        "Value": 2.000000000000007
                                    },
                                    {
                                        "Property": "expectency",
                                        "Value": 0.23589672097709913
                                    },
                                    {
                                        "Property": "rmultipleStdDev",
                                        "Value": 1.0340526002621098
                                    },
                                    {
                                        "Property": "systemQuality",
                                        "Value": 0.22812835722022695
                                    },
                                    {
                                        "Property": "profitFactor",
                                        "Value": 1.7236082094137901
                                    },
                                    {
                                        "Property": "proportionProfitable",
                                        "Value": 0.6557377049180327
                                    },
                                    {
                                        "Property": "percentProfitable",
                                        "Value": 65.57377049180327
                                    },
                                    {
                                        "Property": "returnOnAccount",
                                        "Value": 5.3703900531032005
                                    },
                                    {
                                        "Property": "averageProfitPerTrade",
                                        "Value": 51.77408167916274
                                    },
                                    {
                                        "Property": "numWinningTrades",
                                        "Value": 40
                                    },
                                    {
                                        "Property": "numLosingTrades",
                                        "Value": 21
                                    },
                                    {
                                        "Property": "averageWinningTrade",
                                        "Value": 0.8414999999999999
                                    },
                                    {
                                        "Property": "averageLosingTrade",
                                        "Value": -0.9299428571428563
                                    },
                                    {
                                        "Property": "expectedValue",
                                        "Value": 0.23165901639344283
                                    }
                                ]
                            }
                        }
                    }
                ],
                "errors": [],
                "height": 308
            },
            {
                "id": "097fd530-daf7-11e8-831f-d150615bd7aa",
                "cellType": "markdown",
                "code": "## Equity curve\r\n\r\nFor a more visual understanding of the strategy's performance over time, let's compute and plot the equity curve. This shows the total value of our (virtual) trading account over time.",
                "lastEvaluationDate": "2018-11-16T15:53:20.167+10:00",
                "output": [],
                "errors": [],
                "height": 121
            },
            {
                "id": "14095e00-d376-11e8-b62a-7b63438e3c42",
                "cellType": "code",
                "cellScope": "global",
                "code": "const equityCurve = computeEquityCurve(10000, trades);\r\ndisplay.plot(equityCurve, { chartType: \"area\", y: { min: 9500, label: \"Equity $\" }, x: { label: \"Trade #\" } });",
                "lastEvaluationDate": "2020-10-10T11:54:11.422+10:00",
                "output": [
                    {
                        "value": {
                            "displayType": "plot",
                            "data": {
                                "data": {
                                    "series": {
                                        "y": {
                                            "type": "number",
                                            "values": [
                                                10000,
                                                10038.766845117225,
                                                10085.795302409666,
                                                10245.363258639823,
                                                10040.455993467027,
                                                10196.515515462863,
                                                9992.585205153606,
                                                10364.608535515228,
                                                10157.316364804923,
                                                9954.170037508824,
                                                10278.340551600862,
                                                10462.625431357732,
                                                10253.372922730578,
                                                10048.305464275967,
                                                10566.870976974224,
                                                10506.983169170213,
                                                10839.663911159038,
                                                10918.689407473683,
                                                10700.315619324208,
                                                11017.623166519983,
                                                11118.230520922052,
                                                10895.865910503611,
                                                10677.948592293538,
                                                11190.183235245911,
                                                10966.379570540994,
                                                10747.051979130174,
                                                10532.11093954757,
                                                11011.16505577615,
                                                11252.512206521244,
                                                11245.439602997347,
                                                11531.64379225709,
                                                11638.77707121263,
                                                11406.001529788378,
                                                11902.737390687498,
                                                11664.682642873748,
                                                11431.388990016272,
                                                11882.138881086019,
                                                11903.103250803679,
                                                11914.805082548472,
                                                11676.508980897503,
                                                11442.978801279552,
                                                11452.116736038011,
                                                11587.848935199569,
                                                11592.214295506668,
                                                11805.987068636732,
                                                11836.680442631332,
                                                11957.904675401516,
                                                11970.853137421442,
                                                11731.436074673013,
                                                12003.902467866394,
                                                12067.753012908235,
                                                12195.989761926834,
                                                12341.776714628237,
                                                12501.070129014572,
                                                12676.482712677078,
                                                12842.34323415136,
                                                12921.306775557543,
                                                13032.157225329203,
                                                13140.778650619037,
                                                12877.963077606657,
                                                13027.84738600005,
                                                13158.218982428927
                                            ]
                                        }
                                    }
                                },
                                "plotConfig": {
                                    "legend": {
                                        "show": false
                                    },
                                    "chartType": "area",
                                    "y": {
                                        "min": 9500,
                                        "label": {
                                            "text": "Equity $"
                                        },
                                        "max": 13158.22
                                    },
                                    "x": {
                                        "label": {
                                            "text": "Trade #"
                                        }
                                    },
                                    "width": "95%",
                                    "height": "95%",
                                    "y2": {}
                                },
                                "axisMap": {
                                    "y": [
                                        {
                                            "series": "y"
                                        }
                                    ],
                                    "y2": []
                                }
                            }
                        }
                    }
                ],
                "errors": [],
                "height": 508
            },
            {
                "id": "d1895d10-e4a4-11e8-b0c7-bd1ae9f8fe99",
                "cellType": "markdown",
                "code": "## Drawdown chart\r\n\r\nWe can also compute and render a drawdown chart. This gives us a feel for the amount of risk in the strategy. It shows the amount of time the strategy has spent in negative territory, that's those times when a strategy has reached a peak but is now losing value (drawing down) from that peak.",
                "lastEvaluationDate": "2018-11-16T15:53:20.178+10:00",
                "output": [],
                "errors": [],
                "height": 140
            },
            {
                "id": "1f012310-d376-11e8-b62a-7b63438e3c42",
                "cellType": "code",
                "cellScope": "global",
                "code": "const drawdown = computeDrawdown(10000, trades);\r\ndisplay.plot(drawdown, { chartType: \"area\", y: { label: \"Equity $\" }, x: { label: \"Trade #\" } });",
                "lastEvaluationDate": "2020-10-10T11:54:11.486+10:00",
                "output": [
                    {
                        "value": {
                            "displayType": "plot",
                            "data": {
                                "data": {
                                    "series": {
                                        "y": {
                                            "type": "number",
                                            "values": [
                                                0,
                                                0,
                                                0,
                                                0,
                                                -204.90726517279654,
                                                -48.84774317696065,
                                                -252.7780534862177,
                                                0,
                                                -207.29217071030507,
                                                -410.4384980064042,
                                                -86.26798391436569,
                                                0,
                                                -209.25250862715438,
                                                -414.31996708176484,
                                                0,
                                                -59.88780780401066,
                                                0,
                                                0,
                                                -218.37378814947442,
                                                0,
                                                0,
                                                -222.36461041844086,
                                                -440.2819286285139,
                                                0,
                                                -223.80366470491754,
                                                -443.1312561157374,
                                                -658.0722956983409,
                                                -179.0181794697619,
                                                0,
                                                -7.07260352389676,
                                                0,
                                                0,
                                                -232.77554142425106,
                                                0,
                                                -238.0547478137505,
                                                -471.34840067122605,
                                                -20.598509601479236,
                                                0,
                                                0,
                                                -238.29610165096892,
                                                -471.82628126891905,
                                                -462.6883465104602,
                                                -326.95614734890296,
                                                -322.5907870418032,
                                                -108.8180139117394,
                                                -78.12463991713958,
                                                0,
                                                0,
                                                -239.4170627484291,
                                                0,
                                                0,
                                                0,
                                                0,
                                                0,
                                                0,
                                                0,
                                                0,
                                                0,
                                                0,
                                                -262.8155730123799,
                                                -112.93126461898646,
                                                0
                                            ]
                                        }
                                    }
                                },
                                "plotConfig": {
                                    "legend": {
                                        "show": false
                                    },
                                    "chartType": "area",
                                    "y": {
                                        "label": {
                                            "text": "Equity $"
                                        },
                                        "min": -658.08,
                                        "max": 0
                                    },
                                    "x": {
                                        "label": {
                                            "text": "Trade #"
                                        }
                                    },
                                    "width": "95%",
                                    "height": "95%",
                                    "y2": {}
                                },
                                "axisMap": {
                                    "y": [
                                        {
                                            "series": "y"
                                        }
                                    ],
                                    "y2": []
                                }
                            }
                        }
                    }
                ],
                "errors": [],
                "height": 508
            },
            {
                "id": "03d11150-e4a5-11e8-b0c7-bd1ae9f8fe99",
                "cellType": "markdown",
                "code": "## Advanced backtesting\r\n\r\nWe are only just getting started here and in future notebooks, videos and blog posts we'll explore some of the more advanced aspects of backtesting including:\r\n\r\n- Market filters\r\n- Ranking and portfolio simulation\r\n- Position sizing\r\n- Optimization\r\n- Walk-forward testing\r\n- Monte-carlo testing\r\n- Comparing systems\r\n- Eliminating bias\r\n\r\n[Follow the developer on Twitter](https://twitter.com/ashleydavis75)",
                "lastEvaluationDate": "2018-11-16T15:53:20.193+10:00",
                "output": [],
                "errors": [],
                "height": 320
            }
        ]
    }
};